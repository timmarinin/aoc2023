input â† â€¢FLines "./input_8.txt"
instructions â† âŠâŠ‘input â‹„ len â† â‰  instructions
# Part 1:
# Idea: traverse graph with mutations to keep track of values

Parse â† { ğ•Š:
    lines â† âˆ§2â†“input
    Grab â† { â¥Š âŸ¨0â€¿1â€¿2, 7â€¿8â€¿9, 12â€¿13â€¿14âŸ© âŠ‘Â¨Â¨ <<ğ•© }
    parsed â† âˆ˜â€¿3 â¥Š âˆ¾ (GrabÂ¨ lines)
    titlesSâ€¿leftsSâ€¿rightsS â† âŸ¨0âŠË˜parsed, 1âŠË˜parsed, 2âŠË˜parsedâŸ©
    Index â† { âŠ‘(titlesS âŠ <ğ•©) }
    titles â† âŠ titlesS
    lefts â† IndexÂ¨ leftsS
    rights â† IndexÂ¨ rightsS
    titlesâ€¿leftsâ€¿rights
}

Walk â† {
    titlesâ€¿leftsâ€¿rights â† ğ•©
    pc â† 0
    endsâ€¿node â† ğ•¨
    steps â† 0

    Next â† {
        ğ•Š:
        steps 1âŠ¸+ â†© â‹„
        lr â† pc âŠ‘ instructions â‹„
        node â†© node âŠ‘ lr âŠ‘ âŸ¨lefts, rightsâŸ© â‹„
        pc â†© len|(pc+1)
    }
    NotReachedzzz â† { ğ•Š: Â¬ âˆ¨Â´(â¥Š(node âˆŠ ends)) }
    Next â€¢_while_ NotReachedzzz @
    steps
}

# â€¢Show "Steps: "â€¿(Walk (Parse @))

# Part 2: simultaneous traversal


Parse2 â† {
    lines â† ğ•©
    Grab â† { â¥Š âŸ¨0â€¿1â€¿2, 7â€¿8â€¿9, 12â€¿13â€¿14âŸ© âŠ‘Â¨Â¨ <<ğ•© }
    parsed â† âˆ˜â€¿3 â¥Š âˆ¾ (GrabÂ¨ lines)
    titlesSâ€¿leftsSâ€¿rightsS â† âŸ¨0âŠË˜parsed, 1âŠË˜parsed, 2âŠË˜parsedâŸ©
    Index â† { âŠ‘(titlesS âŠ <ğ•©) }
    titles â† âŠ titlesS
    lefts â† IndexÂ¨ leftsS
    rights â† IndexÂ¨ rightsS
    starts â† / (('A'=Â¯1âŠ¸âŠ‘)Â¨titlesS)
    ends â† / (('Z'=Â¯1âŠ¸âŠ‘)Â¨titlesS)
    titlesâ€¿leftsâ€¿rightsâ€¿startsâ€¿ends
}

# titlesâ€¿leftsâ€¿rightsâ€¿startsâ€¿ends â† Parse2 @
Walk3 â† {
    titlesâ€¿leftsâ€¿rightsâ€¿startsâ€¿ends â† ğ•©
    lens â† { endsâ€¿ğ•© Walk titlesâ€¿leftsâ€¿rights }Â¨ starts
}

â€¢Show â€¢math.LCMÂ´ Walk3 (Parse2 âˆ§2â†“input)
# â€¢Show "Steps Ghosts: "â€¿(Walk2 (Parse2 @))


# what if we merge for each node the program
# what if we work on suffixes
